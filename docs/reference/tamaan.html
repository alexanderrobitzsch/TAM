<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Wrapper Function for TAM Language — tamaan • TAM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Wrapper Function for TAM Language — tamaan"><meta property="og:description" content="This function is a convenience wrapper function for
several item response models in TAM. Using the
tamaanify framework, multidimensional item response models,
latent class models, located and ordered latent class models
and mixture item response models can be estimated."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TAM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.4</span
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/alexanderrobitzsch/TAM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Wrapper Function for <span class="pkg">TAM</span> Language</h1>
    
    <div class="hidden name"><code>tamaan.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is a convenience wrapper function for
several item response models in <span class="pkg">TAM</span>. Using the
<code><a href="tamaanify.html">tamaanify</a></code> framework, multidimensional item response models,
latent class models, located and ordered latent class models
and mixture item response models can be estimated.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tamaan</span><span class="op">(</span><span class="va">tammodel</span>, <span class="va">resp</span>, tam.method<span class="op">=</span><span class="cn">NULL</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, doparse<span class="op">=</span><span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for tamaan</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>,file<span class="op">=</span><span class="cn">NULL</span>,<span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for tamaan</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>tammodel</dt>
<dd><p>String for specification in <span class="pkg">TAM</span>, see also <code><a href="tamaanify.html">tamaanify</a></code>.</p></dd>

  <dt>resp</dt>
<dd><p>Dataset with item responses</p></dd>

  <dt>tam.method</dt>
<dd><p>One of the <span class="pkg">TAM</span> methods <code>tam.mml</code>, <code>tam.mml.2pl</code>
or <code>tam.mml.3pl</code>.</p></dd>

  <dt>control</dt>
<dd><p>List with control arguments. See <code><a href="tam.mml.html">tam.mml</a></code>.</p></dd>

<dt>doparse</dt>
<dd><p>Optional logical indicating whether <code>lavmodel</code>
should be parsed for <code>DO</code> statements, see <code><a href="doparse.html">doparse</a></code>.</p></dd>

  <dt>...</dt>
<dd><p>Further arguments to be passed to
<code>tam.mml</code>, <code>tam.mml.2pl</code>
or <code>tam.mml.3pl</code>.</p></dd>

  <dt>object</dt>
<dd><p>Object of class <code>tamaan</code></p></dd>

<dt>file</dt>
<dd><p>A file name in which the summary output will be written</p></dd>

<dt>x</dt>
<dd><p>Object of class <code>tamaan</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Values generated by <code>tam.mml</code>, <code>tam.mml.2pl</code></p>


<p>or <code>tam.mml.3pl</code>. In addition, the list also contains the (optional) entries</p>
<dl><dt>tamaanify</dt>
<dd><p>Output produced by <code><a href="tamaanify.html">tamaanify</a></code></p></dd>

<dt>lcaprobs</dt>
<dd><p>Matrix with probabilities for latent class models</p></dd>

<dt>locs</dt>
<dd><p>Matrix with cluster locations (for <code>TYPE="LOCLCA"</code>)</p></dd>

<dt>probs_MIXTURE</dt>
<dd><p>Class probabilities (for <code>TYPE="MIXTURE"</code>)</p></dd>

<dt>moments_MIXTURE</dt>
<dd><p>Distribution parameters (for <code>TYPE="MIXTURE"</code>)</p></dd>

<dt>itempartable_MIXTURE</dt>
<dd><p>Item parameters (for <code>TYPE="MIXTURE"</code>)</p></dd>

<dt>ind_classprobs</dt>
<dd><p>Individual posterior probabilities for
  latent classes (for <code>TYPE="MIXTURE"</code>)</p></dd>

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>See <code><a href="tamaanify.html">tamaanify</a></code> for more details about model specification
using <code>tammodel</code>.</p>
<p>See <code><a href="tam.mml.html">tam.mml</a></code> or <code><a href="tam.mml.3pl.html">tam.mml.3pl</a></code>
for more examples.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 1: Examples dichotomous data data.read</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexanderrobitzsch/sirt" class="external-link">sirt</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">data.read</span>,package<span class="op">=</span><span class="st">"sirt"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data.read</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 1: Rasch model</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F1=~ A1__C4</span></span>
<span><span class="st">  F1 ~~ F1</span></span>
<span><span class="st">ITEM TYPE:</span></span>
<span><span class="st">  ALL(Rasch);</span></span>
<span><span class="st">    "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 2: 2PL model with some selected items</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F1=~ A1__B1 + B3 + C1__C3</span></span>
<span><span class="st">  F1 ~~ F1</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 3: Multidimensional IRT model</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  G=~ A1__C4</span></span>
<span><span class="st">  F1=~ A1__B4</span></span>
<span><span class="st">  F2=~ C1__C4</span></span>
<span><span class="st">  F1 ~~ F2</span></span>
<span><span class="st">  # specify fixed entries in covariance matrix</span></span>
<span><span class="st">  F1 ~~ 1*F1</span></span>
<span><span class="st">  F2 ~~ 1*F2</span></span>
<span><span class="st">  G  ~~ 0*F1</span></span>
<span><span class="st">  G  ~~ 0.3*F2</span></span>
<span><span class="st">  G  ~~ 0.7*G</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod3</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter<span class="op">=</span><span class="fl">30</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod3</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 4: Some linear constraints for item slopes and intercepts</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F=~ lam1__lam10*A1__C2</span></span>
<span><span class="st">  F=~ 0.78*C3</span></span>
<span><span class="st">  F ~~ F</span></span>
<span><span class="st">  A1 | a1*t1</span></span>
<span><span class="st">  A2 | a2*t1</span></span>
<span><span class="st">  A3 | a3*t1</span></span>
<span><span class="st">  A4 | a4*t1</span></span>
<span><span class="st">  B1 | b1*t1</span></span>
<span><span class="st">  B2 | b2*t1</span></span>
<span><span class="st">  B3 | b3*t1</span></span>
<span><span class="st">  C1 | t1</span></span>
<span><span class="st">MODEL CONSTRAINT:</span></span>
<span><span class="st">  # defined parameters</span></span>
<span><span class="st">  # only linear combinations are permitted</span></span>
<span><span class="st">  b2==1.3*b1 + (-0.6)*b3</span></span>
<span><span class="st">  a1==q1</span></span>
<span><span class="st">  a2==q2 + t</span></span>
<span><span class="st">  a3==q1 + 2*t</span></span>
<span><span class="st">  a4==q2 + 3*t</span></span>
<span><span class="st">  # linear constraints for loadings</span></span>
<span><span class="st">  lam2==1.1*lam1</span></span>
<span><span class="st">  lam3==0.9*lam1 + (-.1)*lam0</span></span>
<span><span class="st">  lam8==lam0</span></span>
<span><span class="st">  lam9==lam0</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod4</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter<span class="op">=</span><span class="fl">5</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod4</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 5: Latent class analysis with three classes</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">ANALYSIS:</span></span>
<span><span class="st">  TYPE=LCA;</span></span>
<span><span class="st">  NCLASSES(3);   # 3 classes</span></span>
<span><span class="st">  NSTARTS(5,20); # 5 random starts with 20 iterations</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F=~ A1__C4</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod5</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter<span class="op">=</span><span class="fl">100</span><span class="op">)</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod5</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 6: Ordered latent class analysis with three classes</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">ANALYSIS:</span></span>
<span><span class="st">  TYPE=OLCA;</span></span>
<span><span class="st">  NCLASSES(3);    # 3 classes</span></span>
<span><span class="st">  NSTARTS(20,40); # 20 random starts with 40 iterations</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F=~ A1__C4</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod6</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod6</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 7: Unidimensional located latent class model with three classes</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">ANALYSIS:</span></span>
<span><span class="st">  TYPE=LOCLCA;</span></span>
<span><span class="st">  NCLASSES(3)</span></span>
<span><span class="st">  NSTARTS(10,40)</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F=~ A1__C4</span></span>
<span><span class="st">  B2 | 0*t1</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod7</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod7</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 8: Two-dimensional located latent class analysis with some</span></span>
<span><span class="co">#             priors and equality constraints among thresholds</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">ANALYSIS:</span></span>
<span><span class="st">  TYPE=LOCLCA;</span></span>
<span><span class="st">  NCLASSES(4);</span></span>
<span><span class="st">  NSTARTS(10,20);</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  AB=~ A1__B4</span></span>
<span><span class="st">  C=~ C1__C4</span></span>
<span><span class="st">  A1 | a1diff*t1</span></span>
<span><span class="st">  B2 | 0*t1</span></span>
<span><span class="st">  C2 | 0*t1</span></span>
<span><span class="st">  B1 | a1diff*t1</span></span>
<span><span class="st">MODEL PRIOR:</span></span>
<span><span class="st">  # prior distributions for cluster locations</span></span>
<span><span class="st">  DO2(1,4,1,1,2,1)</span></span>
<span><span class="st">    Cl%1_Dim%2 ~ N(0,2);</span></span>
<span><span class="st">  DOEND</span></span>
<span><span class="st">    "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod8</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod8</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 9: Two-dimensional model with constraints on parameters</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  FA=~ A1+b*A2+A3+d*A4</span></span>
<span><span class="st">  FB=~ B1+b*B2+B3+d*B4</span></span>
<span><span class="st">  FA ~~ 1*FA</span></span>
<span><span class="st">  FA ~~ FB</span></span>
<span><span class="st">  FB ~~ 1*FB</span></span>
<span><span class="st">  A1 | c*t1</span></span>
<span><span class="st">  B1 | c*t1</span></span>
<span><span class="st">  A2 | .7*t1</span></span>
<span><span class="st">    "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod9</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod9</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 2: Examples polytomous data | data.Students</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexanderrobitzsch/CDM" class="external-link">CDM</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span> <span class="va">data.Students</span>, package<span class="op">=</span><span class="st">"CDM"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data.Students</span><span class="op">[</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">13</span><span class="op">]</span></span>
<span>  <span class="co">##   &gt; colnames(dat)</span></span>
<span>  <span class="co">##    [1] "act1" "act2" "act3" "act4" "act5" "sc1"  "sc2"  "sc3"  "sc4"  "mj1"  "mj2"</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 1: Two-dimensional generalized partial credit model</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  FA=~ act1__act5</span></span>
<span><span class="st">  FS=~ sc1__sc4</span></span>
<span><span class="st">  FA ~~ 1*FA</span></span>
<span><span class="st">  FS ~~ 1*FS</span></span>
<span><span class="st">  FA ~~ FS</span></span>
<span><span class="st">    "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter<span class="op">=</span><span class="fl">10</span><span class="op">)</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 2: Two-dimensional model, some constraints</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  FA=~ a1__a4*act1__act4 + 0.89*act5</span></span>
<span><span class="st">  FS=~ 1*sc1 + sc2__sc4</span></span>
<span><span class="st">  FA ~~ FA</span></span>
<span><span class="st">  FS ~~ FS</span></span>
<span><span class="st">  FA ~~ FS</span></span>
<span><span class="st">  # some equality constraints</span></span>
<span><span class="st">  act1 + act3 | a13_t1 * t1</span></span>
<span><span class="st">  act1 + act3 | a13_t2 * t2</span></span>
<span><span class="st">    "</span></span>
<span><span class="co"># only create design matrices with tamaanify</span></span>
<span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tamaanify.html">tamaanify</a></span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat</span>  <span class="op">)</span></span>
<span><span class="va">mod2</span><span class="op">$</span><span class="va">lavpartable</span></span>
<span><span class="co"># estimate model (only few iterations as a test)</span></span>
<span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter<span class="op">=</span><span class="fl">10</span><span class="op">)</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 3: Two-dimensional model, some more linear constraints</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  FA=~ a1__a5*act1__act5</span></span>
<span><span class="st">  FS=~ b1__b4*sc1__sc4</span></span>
<span><span class="st">  FA ~~ 1*FA</span></span>
<span><span class="st">  FA ~~ FS</span></span>
<span><span class="st">  FS ~~ 1*FS</span></span>
<span><span class="st">  act1 + act3 | a13_t1 * t1</span></span>
<span><span class="st">  act1 + act3 | a13_t2 * t2</span></span>
<span><span class="st">MODEL CONSTRAINT:</span></span>
<span><span class="st">  a1==q0</span></span>
<span><span class="st">  a2==q0</span></span>
<span><span class="st">  a3==q0    + q1</span></span>
<span><span class="st">  a4==q2</span></span>
<span><span class="st">  a5==q2 + q1</span></span>
<span><span class="st">    "</span></span>
<span><span class="co"># estimate</span></span>
<span><span class="va">mod3</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat</span>, control<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>maxiter<span class="op">=</span><span class="fl">300</span> <span class="op">)</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod3</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 4: Latent class analysis with three latent classes</span></span>
<span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">ANALYSIS:</span></span>
<span><span class="st">  TYPE=LCA;</span></span>
<span><span class="st">  NCLASSES(3);    # 3 classes</span></span>
<span><span class="st">  NSTARTS(10,30); # 10 random starts with 30 iterations</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F=~ act1__act5</span></span>
<span><span class="st">    "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod4</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod4</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 5: Partial credit model with "PCM2" parametrization</span></span>
<span></span>
<span><span class="co"># select data</span></span>
<span><span class="va">dat1</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"act"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">]</span></span>
<span><span class="co"># specify tamaan model</span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  LAVAAN MODEL:</span></span>
<span><span class="st">    F=~ act1__act5</span></span>
<span><span class="st">    F ~~ F</span></span>
<span><span class="st">    # use DO statement as shortages</span></span>
<span><span class="st">    DO(1,5,1)</span></span>
<span><span class="st">      act% | b%_1 * t1</span></span>
<span><span class="st">      act% | b%_2 * t2</span></span>
<span><span class="st">    DOEND</span></span>
<span><span class="st">  MODEL CONSTRAINT:</span></span>
<span><span class="st">    DO(1,5,1)</span></span>
<span><span class="st">      b%_1==delta% + tau%_1</span></span>
<span><span class="st">      b%_2==2*delta%</span></span>
<span><span class="st">    DOEND</span></span>
<span><span class="st">  ITEM TYPE:</span></span>
<span><span class="st">    ALL(PCM)</span></span>
<span><span class="st">  "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod5</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat1</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod5</span><span class="op">)</span></span>
<span><span class="co"># compare with PCM2 parametrization in tam.mml</span></span>
<span><span class="va">mod5b</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.mml.html">tam.mml</a></span><span class="op">(</span> <span class="va">dat1</span>, irtmodel<span class="op">=</span><span class="st">"PCM2"</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod5b</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 6: Rating scale model</span></span>
<span></span>
<span><span class="co"># select data</span></span>
<span><span class="va">dat1</span> <span class="op">&lt;-</span> <span class="va">dat</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"sc"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span> <span class="op">]</span></span>
<span><span class="fu">psych</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/psych/man/describe.html" class="external-link">describe</a></span><span class="op">(</span><span class="va">dat1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># specify tamaan model</span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">  LAVAAN MODEL:</span></span>
<span><span class="st">    F=~ sc1__sc4</span></span>
<span><span class="st">    F ~~ F</span></span>
<span><span class="st">    # use DO statement as shortages</span></span>
<span><span class="st">    DO(1,4,1)</span></span>
<span><span class="st">      sc% | b%_1 * t1</span></span>
<span><span class="st">      sc% | b%_2 * t2</span></span>
<span><span class="st">      sc% | b%_3 * t3</span></span>
<span><span class="st">    DOEND</span></span>
<span><span class="st">  MODEL CONSTRAINT:</span></span>
<span><span class="st">    DO(1,4,1)</span></span>
<span><span class="st">      b%_1==delta% + step1</span></span>
<span><span class="st">      b%_2==2*delta% + step1 + step2</span></span>
<span><span class="st">      b%_3==3*delta%</span></span>
<span><span class="st">    DOEND</span></span>
<span><span class="st">  ITEM TYPE:</span></span>
<span><span class="st">    ALL(PCM)</span></span>
<span><span class="st">  "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod6</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat1</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod6</span><span class="op">)</span></span>
<span><span class="co"># compare with RSM in tam.mml</span></span>
<span><span class="va">mod6b</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.mml.html">tam.mml</a></span><span class="op">(</span> <span class="va">dat1</span>, irtmodel<span class="op">=</span><span class="st">"RSM"</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod6b</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 7: Partial credit model with Fourier basis for</span></span>
<span><span class="co">#             item intercepts (Thissen, Cai &amp; Bock, 2010)</span></span>
<span><span class="co"># see ?tamaanify manual</span></span>
<span></span>
<span><span class="co"># define tamaan model</span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">   mj=~ mj1__mj4</span></span>
<span><span class="st">   mj ~~ 1*mj</span></span>
<span><span class="st">ITEM TYPE:</span></span>
<span><span class="st">  mj1(PCM,2)</span></span>
<span><span class="st">  mj2(PCM,3)</span></span>
<span><span class="st">  mj3(PCM)</span></span>
<span><span class="st">  mj4(PCM,1)</span></span>
<span><span class="st">   "</span></span>
<span><span class="co"># estimate model</span></span>
<span><span class="va">mod7</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, <span class="va">dat</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod7</span><span class="op">)</span></span>
<span><span class="co"># -&gt; This function can also be applied for the generalized partial credit</span></span>
<span><span class="co">#    model (GPCM).</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 3: Rasch model and mixture Rasch model (Geiser &amp; Eid, 2010)</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">data.geiser</span>, package<span class="op">=</span><span class="st">"TAM"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data.geiser</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 1: Rasch model</span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F=~ mrt1__mrt6</span></span>
<span><span class="st">  F ~~ F</span></span>
<span><span class="st">ITEM TYPE:</span></span>
<span><span class="st">  ALL(Rasch);</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#*********************************************************************</span></span>
<span><span class="co">#*** Model 2: Mixed Rasch model with two classes</span></span>
<span><span class="va">tammodel</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">ANALYSIS:</span></span>
<span><span class="st">  TYPE=MIXTURE ;</span></span>
<span><span class="st">  NCLASSES(2);</span></span>
<span><span class="st">  NSTARTS(20,25);</span></span>
<span><span class="st">LAVAAN MODEL:</span></span>
<span><span class="st">  F=~ mrt1__mrt6</span></span>
<span><span class="st">  F ~~ F</span></span>
<span><span class="st">ITEM TYPE:</span></span>
<span><span class="st">  ALL(Rasch);</span></span>
<span><span class="st">    "</span></span>
<span><span class="va">mod2</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">tamaan</span><span class="op">(</span> <span class="va">tammodel</span>, resp<span class="op">=</span><span class="va">dat</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot item parameters</span></span>
<span><span class="va">ipars</span> <span class="op">&lt;-</span> <span class="va">mod2</span><span class="op">$</span><span class="va">itempartable_MIXTURE</span><span class="op">[</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="va">ipars</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span>, type<span class="op">=</span><span class="st">"o"</span>, ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>,<span class="fl">2</span><span class="op">)</span>, pch<span class="op">=</span><span class="fl">16</span>,</span>
<span>        xlab<span class="op">=</span><span class="st">"Item"</span>, ylab<span class="op">=</span><span class="st">"Item difficulty"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="va">ipars</span><span class="op">[</span>,<span class="fl">4</span><span class="op">]</span>, type<span class="op">=</span><span class="st">"l"</span>, col<span class="op">=</span><span class="fl">2</span>, lty<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="va">ipars</span><span class="op">[</span>,<span class="fl">4</span><span class="op">]</span>,  col<span class="op">=</span><span class="fl">2</span>, pch<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># extract individual posterior distribution</span></span>
<span><span class="va">post2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/CDM/man/IRT.likelihood.html" class="external-link">IRT.posterior</a></span><span class="op">(</span><span class="va">mod2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">post2</span><span class="op">)</span></span>
<span><span class="co"># num [1:519, 1:30] 0.000105 0.000105 0.000105 0.000105 0.000105 ...</span></span>
<span><span class="co"># - attr(*, "theta")=num [1:30, 1:30] 1 0 0 0 0 0 0 0 0 0 ...</span></span>
<span><span class="co"># - attr(*, "prob.theta")=num [1:30, 1] 1.21e-05 2.20e-04 2.29e-03 1.37e-02 4.68e-02 ...</span></span>
<span><span class="co"># - attr(*, "G")=num 1</span></span>
<span></span>
<span><span class="co"># There are 2 classes and 15 theta grid points for each class</span></span>
<span><span class="co"># The loadings of the theta grid on items are as follows</span></span>
<span><span class="va">mod2</span><span class="op">$</span><span class="va">E</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span>,,<span class="st">"mrt1_F_load_Cl1"</span><span class="op">]</span></span>
<span><span class="va">mod2</span><span class="op">$</span><span class="va">E</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">2</span>,,<span class="st">"mrt1_F_load_Cl2"</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># compute individual posterior probability for class 1 (first 15 columns)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span> <span class="va">post2</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">]</span> <span class="op">)</span>, <span class="fl">3</span> <span class="op">)</span></span>
<span><span class="co"># columns 16 to 30 refer to class 2</span></span>
<span></span>
<span><span class="op">}</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alexander Robitzsch, Thomas Kiefer, Margaret Wu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

