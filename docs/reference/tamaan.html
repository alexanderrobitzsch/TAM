<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Wrapper Function for <span class="pkg">TAM</span> Language — tamaan • TAM</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Wrapper Function for <span class="pkg">TAM</span> Language — tamaan" />
<meta property="og:description" content="This function is a convenience wrapper function for
several item response models in TAM. Using the
tamaanify framework, multidimensional item response models,
latent class models, located and ordered latent class models
and mixture item response models can be estimated." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TAM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Versions">4.1-vv</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/alexanderrobitzsch/TAM/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Wrapper Function for <span class="pkg">TAM</span> Language</h1>
    
    <div class="hidden name"><code>tamaan.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is a convenience wrapper function for
several item response models in <span class="pkg">TAM</span>. Using the
<code><a href='tamaanify.html'>tamaanify</a></code> framework, multidimensional item response models,
latent class models, located and ordered latent class models
and mixture item response models can be estimated.</p>
    </div>

    <pre class="usage"><span class='fu'>tamaan</span>(<span class='no'>tammodel</span>, <span class='no'>resp</span>, <span class='kw'>tam.method</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(), <span class='kw'>doparse</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for tamaan</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>object</span>,<span class='kw'>file</span><span class='kw'>=</span><span class='kw'>NULL</span>,<span class='no'>...</span>)

<span class='co'># S3 method for tamaan</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>x</span>,<span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tammodel</th>
      <td><p>String for specification in <span class="pkg">TAM</span>, see also <code><a href='tamaanify.html'>tamaanify</a></code>.</p></td>
    </tr>
    <tr>
      <th>resp</th>
      <td><p>Dataset with item responses</p></td>
    </tr>
    <tr>
      <th>tam.method</th>
      <td><p>One of the <span class="pkg">TAM</span> methods <code>tam.mml</code>, <code>tam.mml.2pl</code>
or <code>tam.mml.3pl</code>.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>List with control arguments. See <code><a href='tam.mml.html'>tam.mml</a></code>.</p></td>
    </tr>
    <tr>
      <th>doparse</th>
      <td><p>Optional logical indicating whether <code>lavmodel</code>
should be parsed for <code>DO</code> statements, see <code><a href='doparse.html'>doparse</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments to be passed to
<code>tam.mml</code>, <code>tam.mml.2pl</code>
or <code>tam.mml.3pl</code>.</p></td>
    </tr>
    <tr>
      <th>object</th>
      <td><p>Object of class <code>tamaan</code></p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>A file name in which the summary output will be written</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>Object of class <code>tamaan</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Values generated by <code>tam.mml</code>, <code>tam.mml.2pl</code>
or <code>tam.mml.3pl</code>. In addition, the list also contains the (optional) entries</p>
<dt>tamaanify</dt><dd><p>Output produced by <code><a href='tamaanify.html'>tamaanify</a></code></p></dd>
<dt>lcaprobs</dt><dd><p>Matrix with probabilities for latent class models</p></dd>
<dt>locs</dt><dd><p>Matrix with cluster locations (for <code>TYPE="LOCLCA"</code>)</p></dd>
<dt>probs_MIXTURE</dt><dd><p>Class probabilities (for <code>TYPE="MIXTURE"</code>)</p></dd>
<dt>moments_MIXTURE</dt><dd><p>Distribution parameters (for <code>TYPE="MIXTURE"</code>)</p></dd>
<dt>itempartable_MIXTURE</dt><dd><p>Item parameters (for <code>TYPE="MIXTURE"</code>)</p></dd>
<dt>ind_classprobs</dt><dd><p>Individual posterior probabilities for
  latent classes (for <code>TYPE="MIXTURE"</code>)</p></dd>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>See <code><a href='tamaanify.html'>tamaanify</a></code> for more details about model specification
using <code>tammodel</code>.</p>
<p>See <code><a href='tam.mml.html'>tam.mml</a></code> or <code><a href='tam.mml.3pl.html'>tam.mml.3pl</a></code>
for more examples.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {

<span class='co'>#############################################################################</span>
<span class='co'># EXAMPLE 1: Examples dichotomous data data.read</span>
<span class='co'>#############################################################################</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>sirt</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>data.read</span>,<span class='kw'>package</span><span class='kw'>=</span><span class='st'>"sirt"</span>)
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='no'>data.read</span>

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 1: Rasch model</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  F1=~ A1__C4
  F1 ~~ F1
ITEM TYPE:
  ALL(Rasch);
    "</span>
<span class='co'># estimate model</span>
<span class='no'>mod1</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod1</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 2: 2PL model with some selected items</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  F1=~ A1__B1 + B3 + C1__C3
  F1 ~~ F1
    "</span>
<span class='no'>mod2</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod2</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 3: Multidimensional IRT model</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  G=~ A1__C4
  F1=~ A1__B4
  F2=~ C1__C4
  F1 ~~ F2
  # specify fixed entries in covariance matrix
  F1 ~~ 1*F1
  F2 ~~ 1*F2
  G  ~~ 0*F1
  G  ~~ 0.3*F2
  G  ~~ 0.7*G
    "</span>
<span class='no'>mod3</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>maxiter</span><span class='kw'>=</span><span class='fl'>30</span>))
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod3</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 4: Some linear constraints for item slopes and intercepts</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  F=~ lam1__lam10*A1__C2
  F=~ 0.78*C3
  F ~~ F
  A1 | a1*t1
  A2 | a2*t1
  A3 | a3*t1
  A4 | a4*t1
  B1 | b1*t1
  B2 | b2*t1
  B3 | b3*t1
  C1 | t1
MODEL CONSTRAINT:
  # defined parameters
  # only linear combinations are permitted
  b2==1.3*b1 + (-0.6)*b3
  a1==q1
  a2==q2 + t
  a3==q1 + 2*t
  a4==q2 + 3*t
  # linear constraints for loadings
  lam2==1.1*lam1
  lam3==0.9*lam1 + (-.1)*lam0
  lam8==lam0
  lam9==lam0
    "</span>
<span class='no'>mod4</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>maxiter</span><span class='kw'>=</span><span class='fl'>5</span>) )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod4</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 5: Latent class analysis with three classes</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
ANALYSIS:
  TYPE=LCA;
  NCLASSES(3);   # 3 classes
  NSTARTS(5,20); # 5 random starts with 20 iterations
LAVAAN MODEL:
  F=~ A1__C4
    "</span>
<span class='no'>mod5</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>maxiter</span><span class='kw'>=</span><span class='fl'>100</span>)  )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod5</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 6: Ordered latent class analysis with three classes</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
ANALYSIS:
  TYPE=OLCA;
  NCLASSES(3);    # 3 classes
  NSTARTS(20,40); # 20 random starts with 40 iterations
LAVAAN MODEL:
  F=~ A1__C4
    "</span>
<span class='no'>mod6</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='no'>dat</span> )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod6</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 7: Unidimensional located latent class model with three classes</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
ANALYSIS:
  TYPE=LOCLCA;
  NCLASSES(3)
  NSTARTS(10,40)
LAVAAN MODEL:
  F=~ A1__C4
  B2 | 0*t1
    "</span>
<span class='no'>mod7</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod7</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 8: Two-dimensional located latent class analysis with some</span>
<span class='co'>#             priors and equality constraints among thresholds</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
ANALYSIS:
  TYPE=LOCLCA;
  NCLASSES(4);
  NSTARTS(10,20);
LAVAAN MODEL:
  AB=~ A1__B4
  C=~ C1__C4
  A1 | a1diff*t1
  B2 | 0*t1
  C2 | 0*t1
  B1 | a1diff*t1
MODEL PRIOR:
  # prior distributions for cluster locations
  DO2(1,4,1,1,2,1)
    Cl%1_Dim%2 ~ N(0,2);
  DOEND
    "</span>
<span class='co'># estimate model</span>
<span class='no'>mod8</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span> )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod8</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 9: Two-dimensional model with constraints on parameters</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  FA=~ A1+b*A2+A3+d*A4
  FB=~ B1+b*B2+B3+d*B4
  FA ~~ 1*FA
  FA ~~ FB
  FB ~~ 1*FB
  A1 | c*t1
  B1 | c*t1
  A2 | .7*t1
    "</span>
<span class='co'># estimate model</span>
<span class='no'>mod9</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>maxiter</span><span class='kw'>=</span><span class='fl'>30</span>) )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod9</span>)

<span class='co'>#############################################################################</span>
<span class='co'># EXAMPLE 2: Examples polytomous data | data.Students</span>
<span class='co'>#############################################################################</span>

<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>CDM</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>( <span class='no'>data.Students</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"CDM"</span>)
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='no'>data.Students</span>[,<span class='fl'>3</span>:<span class='fl'>13</span>]
  <span class='co'>##   &gt; colnames(dat)</span>
  <span class='co'>##    [1] "act1" "act2" "act3" "act4" "act5" "sc1"  "sc2"  "sc3"  "sc4"  "mj1"  "mj2"</span>

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 1: Two-dimensional generalized partial credit model</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  FA=~ act1__act5
  FS=~ sc1__sc4
  FA ~~ 1*FA
  FS ~~ 1*FS
  FA ~~ FS
    "</span>
<span class='co'># estimate model</span>
<span class='no'>mod1</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='no'>dat</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>maxiter</span><span class='kw'>=</span><span class='fl'>10</span>)  )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod1</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 2: Two-dimensional model, some constraints</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  FA=~ a1__a4*act1__act4 + 0.89*act5
  FS=~ 1*sc1 + sc2__sc4
  FA ~~ FA
  FS ~~ FS
  FA ~~ FS
  # some equality constraints
  act1 + act3 | a13_t1 * t1
  act1 + act3 | a13_t2 * t2
    "</span>
<span class='co'># only create design matrices with tamaanify</span>
<span class='no'>mod2</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'><a href='tamaanify.html'>tamaanify</a></span>( <span class='no'>tammodel</span>, <span class='no'>dat</span>  )
<span class='no'>mod2</span>$<span class='no'>lavpartable</span>
<span class='co'># estimate model (only few iterations as a test)</span>
<span class='no'>mod2</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='no'>dat</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>maxiter</span><span class='kw'>=</span><span class='fl'>10</span>)  )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod2</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 3: Two-dimensional model, some more linear constraints</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  FA=~ a1__a5*act1__act5
  FS=~ b1__b4*sc1__sc4
  FA ~~ 1*FA
  FA ~~ FS
  FS ~~ 1*FS
  act1 + act3 | a13_t1 * t1
  act1 + act3 | a13_t2 * t2
MODEL CONSTRAINT:
  a1==q0
  a2==q0
  a3==q0    + q1
  a4==q2
  a5==q2 + q1
    "</span>
<span class='co'># estimate</span>
<span class='no'>mod3</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='no'>dat</span>, <span class='kw'>control</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>maxiter</span><span class='kw'>=</span><span class='fl'>300</span> )  )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod3</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 4: Latent class analysis with three latent classes</span>

<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
ANALYSIS:
  TYPE=LCA;
  NCLASSES(3);    # 3 classes
  NSTARTS(10,30); # 10 random starts with 30 iterations
LAVAAN MODEL:
  F=~ act1__act5
    "</span>
<span class='co'># estimate model</span>
<span class='no'>mod4</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod4</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 5: Partial credit model with "PCM2" parametrization</span>

<span class='co'># select data</span>
<span class='no'>dat1</span> <span class='kw'>&lt;-</span> <span class='no'>dat</span>[, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='st'>"act"</span>,<span class='fl'>1</span>:<span class='fl'>5</span>) ]
<span class='co'># specify tamaan model</span>
<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
  LAVAAN MODEL:
    F=~ act1__act5
    F ~~ F
    # use DO statement as shortages
    DO(1,5,1)
      act% | b%_1 * t1
      act% | b%_2 * t2
    DOEND
  MODEL CONSTRAINT:
    DO(1,5,1)
      b%_1==delta% + tau%_1
      b%_2==2*delta%
    DOEND
  ITEM TYPE:
    ALL(PCM)
  "</span>
<span class='co'># estimate model</span>
<span class='no'>mod5</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='no'>dat1</span> )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod5</span>)
<span class='co'># compare with PCM2 parametrization in tam.mml</span>
<span class='no'>mod5b</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'><a href='tam.mml.html'>tam.mml</a></span>( <span class='no'>dat1</span>, <span class='kw'>irtmodel</span><span class='kw'>=</span><span class='st'>"PCM2"</span> )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod5b</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 6: Rating scale model</span>

<span class='co'># select data</span>
<span class='no'>dat1</span> <span class='kw'>&lt;-</span> <span class='no'>dat</span>[, <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span>(<span class='st'>"sc"</span>,<span class='fl'>1</span>:<span class='fl'>4</span>) ]
<span class='kw pkg'>psych</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/psych/man/describe.html'>describe</a></span>(<span class='no'>dat1</span>)

<span class='co'># specify tamaan model</span>
<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
  LAVAAN MODEL:
    F=~ sc1__sc4
    F ~~ F
    # use DO statement as shortages
    DO(1,4,1)
      sc% | b%_1 * t1
      sc% | b%_2 * t2
      sc% | b%_3 * t3
    DOEND
  MODEL CONSTRAINT:
    DO(1,4,1)
      b%_1==delta% + step1
      b%_2==2*delta% + step1 + step2
      b%_3==3*delta%
    DOEND
  ITEM TYPE:
    ALL(PCM)
  "</span>
<span class='co'># estimate model</span>
<span class='no'>mod6</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='no'>dat1</span> )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod6</span>)
<span class='co'># compare with RSM in tam.mml</span>
<span class='no'>mod6b</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'><a href='tam.mml.html'>tam.mml</a></span>( <span class='no'>dat1</span>, <span class='kw'>irtmodel</span><span class='kw'>=</span><span class='st'>"RSM"</span> )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod6b</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 7: Partial credit model with Fourier basis for</span>
<span class='co'>#             item intercepts (Thissen, Cai &amp; Bock, 2010)</span>
<span class='co'># see ?tamaanify manual</span>

<span class='co'># define tamaan model</span>
<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
   mj=~ mj1__mj4
   mj ~~ 1*mj
ITEM TYPE:
  mj1(PCM,2)
  mj2(PCM,3)
  mj3(PCM)
  mj4(PCM,1)
   "</span>
<span class='co'># estimate model</span>
<span class='no'>mod7</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='no'>dat</span> )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod7</span>)
<span class='co'># -&gt; This function can also be applied for the generalized partial credit</span>
<span class='co'>#    model (GPCM).</span>

<span class='co'>#############################################################################</span>
<span class='co'># EXAMPLE 3: Rasch model and mixture Rasch model (Geiser &amp; Eid, 2010)</span>
<span class='co'>#############################################################################</span>

<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>data.geiser</span>, <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"TAM"</span>)
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='no'>data.geiser</span>

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 1: Rasch model</span>
<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
LAVAAN MODEL:
  F=~ mrt1__mrt6
  F ~~ F
ITEM TYPE:
  ALL(Rasch);
    "</span>
<span class='no'>mod1</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>  )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod1</span>)

<span class='co'>#*********************************************************************</span>
<span class='co'>#*** Model 2: Mixed Rasch model with two classes</span>
<span class='no'>tammodel</span> <span class='kw'>&lt;-</span> <span class='st'>"
ANALYSIS:
  TYPE=MIXTURE ;
  NCLASSES(2);
  NSTARTS(20,25);
LAVAAN MODEL:
  F=~ mrt1__mrt6
  F ~~ F
ITEM TYPE:
  ALL(Rasch);
    "</span>
<span class='no'>mod2</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>TAM</span><span class='kw ns'>::</span><span class='fu'>tamaan</span>( <span class='no'>tammodel</span>, <span class='kw'>resp</span><span class='kw'>=</span><span class='no'>dat</span>  )
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>mod2</span>)

<span class='co'># plot item parameters</span>
<span class='no'>ipars</span> <span class='kw'>&lt;-</span> <span class='no'>mod2</span>$<span class='no'>itempartable_MIXTURE</span>[ <span class='fl'>1</span>:<span class='fl'>6</span>, ]
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>( <span class='fl'>1</span>:<span class='fl'>6</span>, <span class='no'>ipars</span>[,<span class='fl'>3</span>], <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"o"</span>, <span class='kw'>ylim</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>3</span>,<span class='fl'>2</span>), <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>16</span>,
        <span class='kw'>xlab</span><span class='kw'>=</span><span class='st'>"Item"</span>, <span class='kw'>ylab</span><span class='kw'>=</span><span class='st'>"Item difficulty"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>( <span class='fl'>1</span>:<span class='fl'>6</span>, <span class='no'>ipars</span>[,<span class='fl'>4</span>], <span class='kw'>type</span><span class='kw'>=</span><span class='st'>"l"</span>, <span class='kw'>col</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>lty</span><span class='kw'>=</span><span class='fl'>2</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/points.html'>points</a></span>( <span class='fl'>1</span>:<span class='fl'>6</span>, <span class='no'>ipars</span>[,<span class='fl'>4</span>],  <span class='kw'>col</span><span class='kw'>=</span><span class='fl'>2</span>, <span class='kw'>pch</span><span class='kw'>=</span><span class='fl'>2</span>)

<span class='co'># extract individual posterior distribution</span>
<span class='no'>post2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/CDM/man/IRT.likelihood.html'>IRT.posterior</a></span>(<span class='no'>mod2</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>post2</span>)
<span class='co'># num [1:519, 1:30] 0.000105 0.000105 0.000105 0.000105 0.000105 ...</span>
<span class='co'># - attr(*, "theta")=num [1:30, 1:30] 1 0 0 0 0 0 0 0 0 0 ...</span>
<span class='co'># - attr(*, "prob.theta")=num [1:30, 1] 1.21e-05 2.20e-04 2.29e-03 1.37e-02 4.68e-02 ...</span>
<span class='co'># - attr(*, "G")=num 1</span>

<span class='co'># There are 2 classes and 15 theta grid points for each class</span>
<span class='co'># The loadings of the theta grid on items are as follows</span>
<span class='no'>mod2</span>$<span class='no'>E</span>[<span class='fl'>1</span>,<span class='fl'>2</span>,,<span class='st'>"mrt1_F_load_Cl1"</span>]
<span class='no'>mod2</span>$<span class='no'>E</span>[<span class='fl'>1</span>,<span class='fl'>2</span>,,<span class='st'>"mrt1_F_load_Cl2"</span>]

<span class='co'># compute individual posterior probability for class 1 (first 15 columns)</span>
<span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span>( <span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>rowSums</a></span>( <span class='no'>post2</span>[, <span class='fl'>1</span>:<span class='fl'>15</span>] ), <span class='fl'>3</span> )
<span class='co'># columns 16 to 30 refer to class 2</span>

}</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Alexander Robitzsch.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


