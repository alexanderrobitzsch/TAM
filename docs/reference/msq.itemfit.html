<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Mean Squared Residual Based Item Fit Statistics (Infit, Outfit) — msq.itemfit • TAM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Mean Squared Residual Based Item Fit Statistics (Infit, Outfit) — msq.itemfit"><meta property="og:description" content="The function msq.itemfit computes computed the outfit and infit statistic
for items or item groups. Contrary to tam.fit, the function
msq.itemfit is not based on simulation from individual posterior distributions
but rather on evaluating the individual posterior.
The function msq.itemfit also computes the outfit and infit statistics
but these are based on weighted likelihood estimates obtained from
tam.wle."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TAM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.3</span
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/alexanderrobitzsch/TAM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Mean Squared Residual Based Item Fit Statistics (Infit, Outfit)</h1>
    
    <div class="hidden name"><code>msq.itemfit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function <code>msq.itemfit</code> computes computed the outfit and infit statistic
for items or item groups. Contrary to <code><a href="tam.fit.html">tam.fit</a></code>, the function
<code>msq.itemfit</code> is not based on simulation from individual posterior distributions
but rather on evaluating the individual posterior.</p>
<p>The function <code>msq.itemfit</code> also computes the outfit and infit statistics
but these are based on weighted likelihood estimates obtained from
<code><a href="tam.wle.html">tam.wle</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">msq.itemfit</span><span class="op">(</span> <span class="va">object</span>, fitindices<span class="op">=</span><span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for msq.itemfit</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, file<span class="op">=</span><span class="cn">NULL</span>, <span class="va">...</span> <span class="op">)</span></span>
<span></span>
<span><span class="fu">msq.itemfitWLE</span><span class="op">(</span> <span class="va">tamobj</span>, fitindices<span class="op">=</span><span class="cn">NULL</span>, <span class="va">...</span> <span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for msq.itemfitWLE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, file<span class="op">=</span><span class="cn">NULL</span>, <span class="va">...</span> <span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>Object for which the classes <code>IRT.data</code>,
  <code>IRT.posterior</code> and <code>predict</code> are defined.</p></dd>

<dt>fitindices</dt>
<dd><p>Vector with parameter labels defining the item groups for
which the fit should be evaluated.</p></dd>

<dt>tamobj</dt>
<dd><p>Object of class <code>tam.mml</code>, <code>tam.mml.2pl</code>
  or <code>tam.mml.mfr</code>.</p></dd>

<dt>file</dt>
<dd><p>Optional name of a file to which the summary should be written</p></dd>

<dt>...</dt>
<dd><p>Further arguments to be passed</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>List with following entries</p>
<dl><dt>itemfit</dt>
<dd><p>Data frame with outfit and infit statistics.</p></dd>

<dt>summary_itemfit</dt>
<dd><p>Summary statistics of outfit
and infit</p></dd>

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>See also <code><a href="tam.fit.html">tam.fit</a></code> for simulation based assessment of item fit.</p>
<p>See also <code>eRm::itemfit</code> or <code><a href="https://rdrr.io/pkg/mirt/man/itemfit.html" class="external-link">mirt::itemfit</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 1: Simulated data Rasch model</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="co">#*** simulate data</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexanderrobitzsch/sirt" class="external-link">sirt</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">9875</span><span class="op">)</span></span>
<span><span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">2000</span></span>
<span><span class="va">I</span> <span class="op">&lt;-</span> <span class="fl">20</span></span>
<span><span class="va">b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span> <span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, length<span class="op">=</span><span class="va">I</span> <span class="op">)</span> <span class="op">)</span></span>
<span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span> <span class="fl">1</span>, <span class="va">I</span> <span class="op">)</span></span>
<span><span class="co"># create some misfitting items</span></span>
<span><span class="va">a</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">1.5</span> <span class="op">)</span></span>
<span><span class="co"># simulate data</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">sirt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sirt/man/sim.raschtype.html" class="external-link">sim.raschtype</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span>, b<span class="op">=</span><span class="va">b</span>, fixed.a<span class="op">=</span><span class="va">a</span> <span class="op">)</span></span>
<span><span class="co">#*** estimate Rasch model</span></span>
<span><span class="va">mod1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.mml.html">tam.mml</a></span><span class="op">(</span>resp<span class="op">=</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="co"># compute WLEs</span></span>
<span><span class="va">wmod1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.wle.html">tam.wle</a></span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span><span class="op">$</span><span class="va">theta</span></span>
<span></span>
<span><span class="co">#--- item fit from "msq.itemfit" function</span></span>
<span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfit</span><span class="op">(</span><span class="va">mod1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span> <span class="va">fit1</span> <span class="op">)</span></span>
<span></span>
<span><span class="co">#--- item fit using simulation in "tam.fit"</span></span>
<span><span class="va">fit0</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.fit.html">tam.fit</a></span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit0</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#--- item fit based on WLEs</span></span>
<span><span class="va">fit2a</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfitWLE</span><span class="op">(</span> <span class="va">mod1</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit2a</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#++ fit assessment in mirt package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/philchalmers/mirt" class="external-link">mirt</a></span><span class="op">)</span></span>
<span><span class="va">mod1b</span> <span class="op">&lt;-</span> <span class="fu">mirt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mirt/man/mirt.html" class="external-link">mirt</a></span><span class="op">(</span> <span class="va">dat</span>, model<span class="op">=</span><span class="fl">1</span>, itemtype<span class="op">=</span><span class="st">"Rasch"</span>, verbose<span class="op">=</span><span class="cn">TRUE</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod1b</span><span class="op">)</span></span>
<span><span class="fu">sirt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sirt/man/mirt.wrapper.html" class="external-link">mirt.wrapper.coef</a></span><span class="op">(</span><span class="va">mod1b</span><span class="op">)</span></span>
<span><span class="va">fmod1b</span> <span class="op">&lt;-</span> <span class="fu">mirt</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/mirt/man/itemfit.html" class="external-link">itemfit</a></span><span class="op">(</span><span class="va">mod1b</span>, Theta<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">wmod1</span>,ncol<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>                 Zh<span class="op">=</span><span class="cn">TRUE</span>, X2<span class="op">=</span><span class="cn">FALSE</span>, S_X2<span class="op">=</span><span class="cn">FALSE</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span> <span class="va">fit2a</span><span class="op">$</span><span class="va">fit_data</span>, <span class="va">fmod1b</span> <span class="op">)</span></span>
<span></span>
<span><span class="co">#++ fit assessment in eRm package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">eRm</span><span class="op">)</span></span>
<span><span class="va">mod1c</span> <span class="op">&lt;-</span> <span class="fu">eRm</span><span class="fu">::</span><span class="fu">RM</span><span class="op">(</span> <span class="va">dat</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod1c</span><span class="op">)</span></span>
<span><span class="fu">eRm</span><span class="fu">::</span><span class="fu">plotPImap</span><span class="op">(</span><span class="va">mod1c</span><span class="op">)</span>    <span class="co"># person-item map</span></span>
<span><span class="va">pmod1c</span> <span class="op">&lt;-</span> <span class="fu">eRm</span><span class="fu">::</span><span class="fu">person.parameter</span><span class="op">(</span><span class="va">mod1c</span><span class="op">)</span></span>
<span><span class="va">fmod1c</span> <span class="op">&lt;-</span> <span class="fu">eRm</span><span class="fu">::</span><span class="fu">itemfit</span><span class="op">(</span><span class="va">pmod1c</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">fmod1c</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fmod1c</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#--- define some item groups for fit assessment</span></span>
<span></span>
<span><span class="co"># bases on evaluating the posterior</span></span>
<span><span class="va">fitindices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"IG"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>, each<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfit</span><span class="op">(</span> <span class="va">mod1</span>, <span class="va">fitindices</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># using WLEs</span></span>
<span><span class="va">fit2b</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfitWLE</span><span class="op">(</span> <span class="va">mod1</span>, <span class="va">fitindices</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit2b</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 2: data.read | fit statistics assessed for testlets</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexanderrobitzsch/sirt" class="external-link">sirt</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">data.read</span>,package<span class="op">=</span><span class="st">"sirt"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data.read</span></span>
<span></span>
<span><span class="co"># fit Rasch model</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.mml.html">tam.mml</a></span><span class="op">(</span> <span class="va">dat</span> <span class="op">)</span></span>
<span></span>
<span><span class="co">#***** item fit for each item</span></span>
<span><span class="co"># based on posterior</span></span>
<span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfit</span><span class="op">(</span> <span class="va">mod</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res1</span><span class="op">)</span></span>
<span><span class="co"># based on WLEs</span></span>
<span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfitWLE</span><span class="op">(</span> <span class="va">mod</span>  <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res2</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#***** item fit for item groups</span></span>
<span><span class="co"># define item groups</span></span>
<span><span class="va">fitindices</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substring</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fl">1</span> <span class="op">)</span></span>
<span><span class="co"># based on posterior</span></span>
<span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfit</span><span class="op">(</span> <span class="va">mod</span>, <span class="va">fitindices</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res1</span><span class="op">)</span></span>
<span><span class="co"># based on WLEs</span></span>
<span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfitWLE</span><span class="op">(</span> <span class="va">mod</span>, <span class="va">fitindices</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res2</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 3: Fit statistics for rater models</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/alexanderrobitzsch/sirt" class="external-link">sirt</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">data.ratings2</span>, package<span class="op">=</span><span class="st">"sirt"</span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">data.ratings2</span></span>
<span></span>
<span><span class="co"># fit rater model "~ item*step + rater"</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.mml.html">tam.mml.mfr</a></span><span class="op">(</span> resp<span class="op">=</span><span class="va">dat</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span> <span class="st">"k"</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op">]</span>,</span>
<span>            facets<span class="op">=</span><span class="va">dat</span><span class="op">[</span>, <span class="st">"rater"</span>, drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span>,</span>
<span>            pid<span class="op">=</span><span class="va">dat</span><span class="op">$</span><span class="va">pid</span>, formulaA<span class="op">=</span><span class="op">~</span> <span class="va">item</span><span class="op">*</span><span class="va">step</span> <span class="op">+</span> <span class="va">rater</span> <span class="op">)</span></span>
<span></span>
<span><span class="co"># fit for parameter with "tam.fit" function</span></span>
<span><span class="va">fmod1a</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu"><a href="tam.fit.html">tam.fit</a></span><span class="op">(</span> <span class="va">mod</span> <span class="op">)</span></span>
<span><span class="va">fmod1b</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfit</span><span class="op">(</span> <span class="va">mod</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fmod1a</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fmod1b</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># define item groups using pseudo items from object "mod"</span></span>
<span><span class="va">pseudo_items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">resp</span><span class="op">)</span></span>
<span><span class="va">pss</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span> <span class="va">pseudo_items</span>, split<span class="op">=</span><span class="st">"-"</span> <span class="op">)</span></span>
<span><span class="va">item_parm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span> <span class="va">pss</span>, FUN<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">ll</span><span class="op">)</span><span class="op">{</span> <span class="va">ll</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">}</span> <span class="op">)</span> <span class="op">)</span></span>
<span><span class="va">rater_parm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span> <span class="va">pss</span>, FUN<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">ll</span><span class="op">)</span><span class="op">{</span> <span class="va">ll</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">}</span> <span class="op">)</span> <span class="op">)</span></span>
<span></span>
<span><span class="co"># fit for items with "msq.itemfit" functions</span></span>
<span><span class="va">res2a</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfit</span><span class="op">(</span> <span class="va">mod</span>, <span class="va">item_parm</span> <span class="op">)</span></span>
<span><span class="va">res2b</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfitWLE</span><span class="op">(</span> <span class="va">mod</span>, <span class="va">item_parm</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res2a</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res2b</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># fit for raters</span></span>
<span><span class="va">res3a</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfit</span><span class="op">(</span> <span class="va">mod</span>, <span class="va">rater_parm</span> <span class="op">)</span></span>
<span><span class="va">res3b</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">msq.itemfitWLE</span><span class="op">(</span> <span class="va">mod</span>, <span class="va">rater_parm</span> <span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res3a</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">res3b</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alexander Robitzsch.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

