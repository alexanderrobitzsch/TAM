<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Parsing a String with DO Statements — doparse • TAM</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Parsing a String with DO Statements — doparse"><meta property="og:description" content="This function parses a string and expands this string in case of DO
statements which are shortcuts for writing loops. The statement
DO(n,m,k) increments an index from n to m in steps
of k. The index in the string model must be defined
as %. For a nested loop within a loop,
the DO2 statement can be used using %1 and %2
as indices. See Examples for hints on the specification. The loop in DO2
must not be explicitly crossed, e.g. in applications for specifying
covariances or correlations. The formal syntax for 
 for (ii in 1:(K-1)){  for (jj in (ii+1):K) { ... } } 
can be written as DO2(1,K-1,1,%1,K,1
). See Example 2."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TAM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.3</span
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/alexanderrobitzsch/TAM/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parsing a String with <code>DO</code> Statements</h1>
    
    <div class="hidden name"><code>doparse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function parses a string and expands this string in case of <code>DO</code>
statements which are shortcuts for writing loops. The statement
<code>DO(n,m,k)</code> increments an index from <code>n</code> to <code>m</code> in steps
of <code>k</code>. The index in the string <code>model</code> must be defined
as <code>%</code>. For a nested loop within a loop,
the <code>DO2</code> statement can be used using <code>%1</code> and <code>%2</code>
as indices. See Examples for hints on the specification. The loop in <code>DO2</code>
must not be explicitly crossed, e.g. in applications for specifying
covariances or correlations. The formal syntax for <br><code> for (ii in 1:(K-1)){  for (jj in (ii+1):K) { ... } }</code> <br>
can be written as <code>DO2(1,K-1,1,%1,K,1
)</code>. See Example 2.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">doparse</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>model</dt>
<dd><p>A string with <code>DO</code> or <code>DO2</code> statements.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Parsed string in which <code>DO</code> statements are expanded.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>This function is also used in <code><a href="lavaanify.IRT.html">lavaanify.IRT</a></code> and
<code><a href="tamaanify.html">tamaanify</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 1: doparse example</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="co"># define model</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st"> # items I1,...,I10 load on G</span></span>
<span><span class="st"> DO(1,10,1)</span></span>
<span><span class="st">   G=~ lamg% * I%</span></span>
<span><span class="st"> DOEND</span></span>
<span><span class="st"> I2 | 0.75*t1</span></span>
<span><span class="st"> v10 &gt; 0 ;</span></span>
<span><span class="st"> # The first index loops from 1 to 3 and the second index loops from 1 to 2</span></span>
<span><span class="st"> DO2(1,3,1,  1,2,1)</span></span>
<span><span class="st">   F%2=~ a%2%1 * A%2%1 ;</span></span>
<span><span class="st"> DOEND</span></span>
<span><span class="st"> # Loop from 1 to 9 with steps of 2</span></span>
<span><span class="st"> DO(1,9,2)</span></span>
<span><span class="st">   HA1=~ I%</span></span>
<span><span class="st">   I% | beta% * t1</span></span>
<span><span class="st"> DOEND</span></span>
<span><span class="st"> "</span></span>
<span></span>
<span><span class="co"># process string</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">doparse</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>  <span class="co">##    # items I1,...,I10 load on G</span></span>
<span>  <span class="co">##       G=~ lamg1 * I1</span></span>
<span>  <span class="co">##       G=~ lamg2 * I2</span></span>
<span>  <span class="co">##       G=~ lamg3 * I3</span></span>
<span>  <span class="co">##       G=~ lamg4 * I4</span></span>
<span>  <span class="co">##       G=~ lamg5 * I5</span></span>
<span>  <span class="co">##       G=~ lamg6 * I6</span></span>
<span>  <span class="co">##       G=~ lamg7 * I7</span></span>
<span>  <span class="co">##       G=~ lamg8 * I8</span></span>
<span>  <span class="co">##       G=~ lamg9 * I9</span></span>
<span>  <span class="co">##       G=~ lamg10 * I10</span></span>
<span>  <span class="co">##     I2 | 0.75*t1</span></span>
<span>  <span class="co">##     v10 &gt; 0</span></span>
<span>  <span class="co">##       F1=~ a11 * A11</span></span>
<span>  <span class="co">##       F2=~ a21 * A21</span></span>
<span>  <span class="co">##       F1=~ a12 * A12</span></span>
<span>  <span class="co">##       F2=~ a22 * A22</span></span>
<span>  <span class="co">##       F1=~ a13 * A13</span></span>
<span>  <span class="co">##       F2=~ a23 * A23</span></span>
<span>  <span class="co">##       HA1=~ I1</span></span>
<span>  <span class="co">##       HA1=~ I3</span></span>
<span>  <span class="co">##       HA1=~ I5</span></span>
<span>  <span class="co">##       HA1=~ I7</span></span>
<span>  <span class="co">##       HA1=~ I9</span></span>
<span>  <span class="co">##       I1 | beta1 * t1</span></span>
<span>  <span class="co">##       I3 | beta3 * t1</span></span>
<span>  <span class="co">##       I5 | beta5 * t1</span></span>
<span>  <span class="co">##       I7 | beta7 * t1</span></span>
<span>  <span class="co">##       I9 | beta9 * t1</span></span>
<span></span>
<span><span class="co">#############################################################################</span></span>
<span><span class="co"># EXAMPLE 2: doparse with nested loop example</span></span>
<span><span class="co">#############################################################################</span></span>
<span></span>
<span><span class="co"># define model</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st"> DO(1,4,1)</span></span>
<span><span class="st">   G=~ lamg% * I%</span></span>
<span><span class="st"> DOEND</span></span>
<span><span class="st"> # specify some correlated residuals</span></span>
<span><span class="st"> DO2(1,3,1,%1,4,1)</span></span>
<span><span class="st">   I%1 ~~ I%2</span></span>
<span><span class="st"> DOEND</span></span>
<span><span class="st"> "</span></span>
<span><span class="co"># process string</span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">TAM</span><span class="fu">::</span><span class="fu">doparse</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span>  <span class="co">##       G=~ lamg1 * I1</span></span>
<span>  <span class="co">##       G=~ lamg2 * I2</span></span>
<span>  <span class="co">##       G=~ lamg3 * I3</span></span>
<span>  <span class="co">##       G=~ lamg4 * I4</span></span>
<span>  <span class="co">##     # specify some correlated residuals</span></span>
<span>  <span class="co">##       I1 ~~ I2</span></span>
<span>  <span class="co">##       I1 ~~ I3</span></span>
<span>  <span class="co">##       I1 ~~ I4</span></span>
<span>  <span class="co">##       I2 ~~ I3</span></span>
<span>  <span class="co">##       I2 ~~ I4</span></span>
<span>  <span class="co">##       I3 ~~ I4</span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Alexander Robitzsch.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

